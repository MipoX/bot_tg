from typing import List, Dict, Tuple
from api_site.utils.check_time_for_log import decorator_for_check_time
from data_users.models.favorite import Favorite
from tg_bot.bot_utils.manager_db_util import ManagerDB


def get_text_help() -> str:
    """
    –§—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–µ–∫—Å—Ç –≤ —Ä–∞–∑–¥–µ–ª –º–µ–Ω—é "–ü–æ–º–æ—â–∏",
    –≤ –∫–æ—Ç–æ—Ä–æ–π –∫–æ—Ä–æ—Ç–∫–æ –æ–ø–∏—Å–∞–Ω—ã –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã, —á—Ç–æ —É–º–µ–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –±–æ—Ç.
    Returns:
        srt: –¢–µ–∫—Å—Ç —Å –∫–æ–º–∞–Ω–¥–∞–º–∏.
    Raises:
        None.
    """
    text: str = (f'–ö–æ–º–∞–Ω–¥—ã:\n'
                 f'/main - –≤–æ–∑–≤—Ä–∞—Ç –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é.\n'
                 f'/low - –≤—ã–≤–æ–¥ –æ–¥–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞.\n'
                 f'/high - –≤—ã–≤–æ–¥ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –∫–æ–ª-–≤–∞ —Ç–æ–≤–∞—Ä–æ–≤.\n'
                 f'/custom ‚Äî –≤—ã–≤–æ–¥ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤.\n'
                 f'/about - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–æ—Ç–µ.\n'
                 f'/help - –ø–æ–º–æ—â—å —Å –∫–æ–º–∞–Ω–¥–∞–º–∏.\n'
                 f'/contacts - –∫–æ–Ω—Ç–∞–∫—Ç—ã\n'
                 f'/favorite - —Å–ø–∏—Å–æ–∫ –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö')
    return text


def get_text_about() -> str:
    """
    –§—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –±–æ—Ç–µ. –ì–¥–µ –±–æ–ª–µ–µ –≤ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ–º –≤–∏–¥–µ –æ–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –ø–æ–¥—Ä–æ–±–Ω–æ –∫–æ–º–∞–Ω–¥—ã.
    Returns:
        str: –ü–æ–¥—Ä–æ–±–Ω–æ –æ –±–æ—Ç–µ.
    """
    text: str = (r'–ë–æ—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –≤ –ø–æ–∏—Å–∫–æ–≤–∏–∫e. '
                 '–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã  –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ–≤–∞—Ä–µ –≤'
                 ' –≤–∏–¥–µ –≥–æ—Ç–æ–≤–æ–≥–æ —à–∞–±–ª–æ–Ω–∞ –∏ —Å—Å—ã–ª–∫–æ–π –Ω–∞ –Ω–µ–≥–æ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–µ.\n'
                 '–¢–∞–∫ –∂–µ –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –¥–æ—Å—Ç—É–ø–Ω—ã —Å—Ç—Ä–æ–∫–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã –∏ –º–µ–Ω—é.\n'
                 '–í —Ä–∞–∑–¥–µ–ª–µ –ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–∞ —Å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π ‚öô /custom –¥–æ—Å—Ç—É–ø–Ω–∞ –æ–ø—Ü–∏—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ —Ü–µ–Ω–µ, '
                 '–∫–∞–∫ –≤ —Ä–æ—Å—Ç, —Ç–∞–∫ –∏ –Ω–∞ —É–±—ã–ª—å –∏–ª–∏ –∂–µ –≤—ã–≤–æ–¥ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.'
                 '–ë—É–¥–µ—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω —Å–ø–∏—Å–æ–∫, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å '
                 '—Å –ø–æ–º–æ—â—å—é –∫–Ω–æ–ø–æ–∫ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –≤ –ø–∞–Ω–µ–ª–∏ –º–µ–Ω—é. –¢–∞–∫ –∂–µ –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –∏ —É–¥–∞–ª—è—Ç—å –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö'
                 '—Ç–æ–≤–∞—Ä–æ–≤ –Ω–µ –ø–æ–∫–∏–¥–∞—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–∏—Å–∫–∞,'
                 '—ç—Ç–æ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –ø—Ä–∏ –ª—é–±—ã—Ö –¥—Ä—É–≥–∏—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö –ø–æ–∏—Å–∫–∞.\n'
                 '–í –†–∞–∑–¥–µ–ª–µ –ò—Å—Ç–æ—Ä–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ üìù /history —Ö—Ä–∞–Ω—è—Ç—Å—è —Å–≤–µ–¥–µ–Ω–∏—è –æ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 10 –∑–∞–ø—Ä–æ—Å–∞—Ö.'
                 '–ë—É–¥—É—Ç –≤—ã–≤–µ–¥–µ–Ω—ã –≤–∞—à–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –±—É–¥–µ—Ç —Å–Ω–æ–≤–∞ –∑–∞–ø—Ä–æ—Å–∏—Ç—å –≤ 1 –∫–ª–∏–∫.\n'
                 '–í —Ä–∞–∑–¥–µ–ª–µ –ò–∑–±—Ä–∞–Ω–Ω–æ–µ ‚≠êÔ∏è /favorite –º–æ–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–æ 100 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤, –∞ —Ç–∞–∫ –∂–µ —É–¥–∞–ª—è—Ç—å –Ω–µ'
                 '–∞–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã –∏–∑ –≤–∞—à–µ–≥–æ —Å–ø–∏—Å–∫–∞ –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤.\n'
                 '–í —Ä–∞–∑–¥–µ–ª–µ –ù–∞–π—Ç–∏ –æ–¥–∏–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç üîç /low –±—É–¥–µ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –≤—Å–µ–≥–æ –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä –∏–∑'
                 ' —Ç–æ–ø —Å—Å—ã–ª–æ–∫ –ø–æ–∏—Å–∫–æ–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞.\n'
                 '–í —Ä–∞–∑–¥–µ–ª–µ –ù–∞–π—Ç–∏ –º–∞–∫—Å–∏–º—É–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ üîé /high –±—É–¥–µ—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω —Å–ø–∏—Å–æ–∫ –≤ 30 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.\n'
                 '–í —Ä–∞–∑–¥–µ–ª–µ –ü–æ–º–æ—â—å" üí° /help –¥–æ—Å—Ç—É–ø–µ–Ω —Å–ø–∏—Å–æ–∫ –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–º–∞–Ω–¥. ')
    return text


@decorator_for_check_time
def create_date_favorite(id_user: int, favorite_dict: Dict,
                         favorite_dict_cache: Dict) -> Tuple[Dict, Dict]:
    """
    –°–æ–∑–¥–∞–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –≤ –ë–î –¥–∞–Ω–Ω—ã–µ.
    Args:
        id_user: ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
        favorite_dict: –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ –¥–ª—è –≤—ã–≤–æ–¥–∞ –≤ –º–µ–Ω—é –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ.
        favorite_dict_cache: –î–∞–Ω–Ω—ã–µ –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ –¥–ª—è –∫–µ—à–∞.
    Returns:
        Tuple[Dict, Dict]: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ—Ä—Ç–µ–∂ –∏–∑ –¥–≤—É—Ö —Å–ª–æ–≤–∞—Ä–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ—é —é–∑–µ—Ä—É –ø–æ ID.
    Raises:
        None
    Notes:
        –§—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ –ë–î, –∏–∑–≤–ª–µ–∫–∞–µ—Ç –æ—Ç —Ç—É–¥–∞ –¥–∞–Ω–Ω—ã–µ, –ø–æ—Å–ª–µ —á–µ–≥–æ —Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è –¥–≤–∞ —Å–ª–æ–≤–∞—Ä—è,
         –æ–¥–∏–Ω —Å –∫–µ—à –¥–∞–Ω–Ω—ã–º–∏, –¥—Ä—É–≥–æ–π —Å –¥–∞–Ω–Ω—ã–º–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤.
    """

    favorite_data: List[Favorite] = ManagerDB.read_favorite(id_user)
    list_favorite: List = favorite_dict.get(id_user, [])
    cache_list: List[str] = []
    if favorite_data:
        for prod in favorite_data:
            data: List = [prod.link_web, prod.link_foto, prod.about]
            cache_list.append(prod.link_web)
            if data not in list_favorite:
                list_favorite.append(data)
    favorite_dict_cache[id_user] = cache_list
    favorite_dict[id_user] = list_favorite
    return favorite_dict, favorite_dict_cache
